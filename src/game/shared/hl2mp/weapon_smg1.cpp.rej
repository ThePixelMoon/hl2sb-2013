diff a/src/game/shared/hl2mp/weapon_smg1.cpp b/src/game/shared/hl2mp/weapon_smg1.cpp	(rejected hunks)
@@ -61,7 +61,7 @@ class CWeaponSMG1 : public CHL2MPMachineGun
 
 	const WeaponProficiencyInfo_t *GetProficiencyValues();
 
-#ifndef CLIENT_DLL
+#if !defined( CLIENT_DLL ) || defined( HL2SB )
 	DECLARE_ACTTABLE();
 #endif
 
@@ -96,6 +111,7 @@ acttable_t	CWeaponSMG1::m_acttable[] =
 	{ ACT_HL2MP_GESTURE_RELOAD,			ACT_HL2MP_GESTURE_RELOAD_SMG1,			false },
 	{ ACT_HL2MP_JUMP,					ACT_HL2MP_JUMP_SMG1,					false },
 	{ ACT_RANGE_ATTACK1,				ACT_RANGE_ATTACK_SMG1,					false },
+#endif // HL2SB
 };
 
 IMPLEMENT_ACTTABLE(CWeaponSMG1);
@@ -234,7 +257,11 @@ void CWeaponSMG1::SecondaryAttack( void )
 	SendWeaponAnim( ACT_VM_SECONDARYATTACK );
 
 	// player "shoot" animation
+#ifdef HL2SB
+	pPlayer->DoAnimationEvent( PLAYERANIMEVENT_ATTACK_PRIMARY );
+#else
 	pPlayer->SetAnimation( PLAYER_ATTACK1 );
+#endif // HL2SB
 
 	// Decrease ammo
 	pPlayer->RemoveAmmo( 1, m_iSecondaryAmmoType );
